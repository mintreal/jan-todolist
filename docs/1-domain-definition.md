# Jan TodoList 도메인 정의서

## 문서 정보
- **버전**: 3.0 (3일 스프린트 최종 버전)
- **작성일**: 2025-11-25
- **최종 수정일**: 2025-11-26
- **작성자**: Development Team
- **문서 상태**: 3일 프로토타입 범위 - 캘린더, 알림, 공유 기능 제외

### 변경 이력
| 버전 | 날짜 | 변경 내용 | 작성자 |
|-----|------|----------|--------|
| 1.0 | 2025-11-25 | 최초 작성 | Development Team |
| 1.1 | 2025-11-25 | 목차, 용어정의, 요구사항 추적, 비기능 요구사항, KPI 추가 | Development Team |
| 2.0 | 2025-11-25 | 3일 스프린트 범위로 축소 (공유, 알림, 캘린더 제외) | Development Team |
| 3.0 | 2025-11-26 | 캘린더 관련 모든 내용 정리 및 Phase 1/2 명확히 구분 | Development Team |

## 목차
1. [프로젝트 개요](#1-프로젝트-개요)
2. [핵심 도메인 모델](#2-핵심-도메인-모델)
   - 2.1 [User (사용자)](#21-user-사용자)
   - 2.2 [TodoItem (할일)](#22-todoitem-할일)
   - 2.3 [용어 정의](#23-용어-정의)
3. [주요 기능](#3-주요-기능)
   - 3.1 [인증 및 사용자 관리](#31-인증-및-사용자-관리)
   - 3.2 [할일 관리 (CRUD)](#32-할일-관리-crud)
   - 3.3 [기한 관리](#33-기한-관리)
4. [사용자 시나리오](#4-사용자-시나리오)
5. [비즈니스 규칙](#5-비즈니스-규칙)
6. [기술적 고려사항](#6-기술적-고려사항)
7. [확장 가능성](#7-확장-가능성)
8. [비기능 요구사항](#8-비기능-요구사항)
9. [성공 지표 (KPI)](#9-성공-지표-kpi)
10. [관련 문서](#10-관련-문서)
11. [부록: 요구사항 추적 매트릭스](#11-부록-요구사항-추적-매트릭스)

## 1. 프로젝트 개요

**Jan TodoList**는 사용자 인증 기반의 개인 할일 관리 애플리케이션입니다. 사용자는 자신의 할일을 간단하게 관리하고, 기한을 설정하여 체계적으로 작업할 수 있습니다.

### 핵심 가치 (3일 프로토타입)
- 개인화된 할일 관리
- 기한 기반 정렬
- 간단하고 빠른 UI

### Phase 2 이후 추가 예정
- 캘린더 뷰
- 알림 시스템
- 협업 및 공유 기능
- 외부 캘린더 서비스 연동

## 2. 핵심 도메인 모델 (3일 범위)

### 2.1 User (사용자)
- 애플리케이션의 주체
- 무료 가입 가능
- 자신의 할일을 소유하고 관리
- **속성**:
  - 이메일 (로그인 ID)
  - 비밀번호 (bcrypt 해싱)
  - 이름
  - 가입일시

### 2.2 TodoItem (할일)
- 사용자가 관리하는 작업 단위
- **속성** (최소화):
  - **제목** (필수, 최대 200자)
  - **상태** (완료/미완료, Boolean)
  - **기한** (선택, 날짜만)
  - **생성일시**
- **소유자**: User (1:N 관계)
- **제외된 속성**: 설명, 우선순위 (Phase 2 추가)

### 2.3 용어 정의

#### 기한 (Due Date)
할일을 완료해야 하는 목표 날짜. **시간은 제외하고 날짜만** 설정 가능합니다. 선택사항이며, 설정하지 않을 경우 "기한 없음"으로 분류되어 목록 하단에 표시됩니다. 기한이 설정된 할일은 기한 가까운 순으로 자동 정렬됩니다.

#### 완료 상태 (Completion Status)
할일의 완료 여부를 나타내는 Boolean 값:
- **미완료 (false)**: 아직 완료되지 않은 할일 (기본값)
- **완료 (true)**: 완료된 할일. 체크박스 클릭으로 토글 가능.

---

### 제외된 도메인 모델 (Phase 2 이후)

다음 도메인 모델은 3일 범위에서 제외되며, Phase 2 이후 추가됩니다:

- **TodoShare**: 할일 공유 기능
- **Notification**: 알림 시스템
- **Priority**: 우선순위 기능
- **Description**: 상세 설명 필드

## 3. 주요 기능 (3일 범위)

### 3.1 인증 및 사용자 관리 ✅
- **회원가입**: 이메일 + 비밀번호 + 이름
- **로그인**: JWT 토큰 기반 인증
- **로그아웃**: 토큰 삭제

### 3.2 할일 관리 (CRUD) ✅
- **생성**: 제목 + 기한 (선택)
- **조회**: 리스트 뷰 (기한 임박 순 자동 정렬)
- **수정**: 제목, 기한, 완료 상태 변경
- **삭제**: 소유자만 가능

### 3.3 기한 관리 ✅
- **기한 설정**: 날짜만 (시간 제외)
- **자동 정렬**: 기한 가까운 순 → 기한 없는 할일
- **시각적 구분**: 기한 있음/없음

---

### 제외된 기능 (Phase 2 이후)

다음 기능은 3일 범위에서 제외되며, Phase 2 이후 추가됩니다:

- ❌ **알림 시스템**: 기한 도래 시 알림
- ❌ **캘린더 뷰**: 월간 캘린더 표시
- ❌ **공유 기능**: 다른 사용자와 할일 공유
- ❌ **외부 연동**: 구글/네이버 캘린더
- ❌ **설정 페이지**: 프로필 수정, 알림 설정
- ❌ **우선순위**: 높음/보통/낮음
- ❌ **상세 설명**: 할일 설명 필드

## 4. 사용자 시나리오 (3일 범위)

### 시나리오 1: 개인 할일 관리
1. 사용자가 로그인
2. 새 할일 생성 (예: "프로젝트 보고서 작성", 기한: 3일 후)
3. 리스트 뷰에서 할일 확인
4. 할일 완료 후 상태 변경
5. 완료된 할일 삭제 또는 보관

### 시나리오 2: 기한 관리
1. 여러 할일 생성 (각기 다른 기한)
2. 기한 임박 할일이 상단에 자동 정렬
3. 할일 상태 변경 및 관리

## 5. 비즈니스 규칙

### 5.1 할일 관리
- 할일은 반드시 소유자가 있어야 함
- 기한은 선택사항이지만, 설정 시 과거 날짜 불가
- 완료된 할일은 별도 영역에서 관리 (아카이브)

### 5.2 알림
- 기한 24시간 전 기본 알림
- 기한 1시간 전 추가 알림 (선택)
- 이미 완료된 할일은 알림 발송 안 함

### 5.3 공유
- 소유자만 공유 설정 가능
- 공유 받은 사용자는 권한에 따라 조회/수정 가능
- 삭제는 소유자만 가능

### 5.4 기한 우선순위
- 기한 없음: 가장 낮은 우선순위
- 오늘 기한: 최우선
- 내일 이후: 기한 가까운 순

## 6. 기술적 고려사항 (3일 범위)

### 6.1 인증
- JWT 기반 인증
- 비밀번호 암호화 (bcrypt)

### 6.2 데이터 모델
- 관계형 데이터베이스 (PostgreSQL 권장)
- User - TodoItem: 1:N 관계

### 6.3 UI/UX
- 반응형 웹 디자인
- 리스트 뷰
- 기한 기반 정렬

## 7. 확장 가능성

### 향후 고려사항
- 태그/카테고리 기능
- 반복 할일 (매일/매주 등)
- 할일 템플릿
- 팀/그룹 단위 관리
- 모바일 앱 (iOS/Android)
- 할일 통계 및 생산성 리포트

## 8. 비기능 요구사항

### 8.1 성능 (Performance)
- **응답 시간**
  - 할일 목록 조회: 1초 이내
  - 할일 CRUD 작업: 500ms 이내
  - 로그인/회원가입: 2초 이내

- **처리량 (Throughput)**
  - 동시 접속 사용자: 최소 1,000명 지원
  - 사용자당 할일 개수: 최대 10,000개
  - API 요청 처리: 초당 100 TPS (Transactions Per Second)

- **확장성 (Scalability)**
  - 수평 확장 가능한 아키텍처
  - 데이터베이스 읽기 복제본 지원
  - 캐싱 레이어 적용 가능

### 8.2 보안 (Security)
- **통신 보안**
  - HTTPS 통신 필수
  - TLS 1.2 이상 사용
  - HSTS (HTTP Strict Transport Security) 적용

- **인증 및 권한**
  - 비밀번호 해싱: bcrypt (최소 10 rounds)
  - JWT 토큰 만료 시간: 24시간
  - 리프레시 토큰: 30일
  - 세션 타임아웃: 30분 무활동 시

- **데이터 보호**
  - SQL Injection 방어 (ORM 사용)
  - XSS 방어 (입력 검증 및 이스케이핑)
  - CSRF 토큰 적용
  - Rate Limiting: IP당 분당 60 요청

- **개인정보 보호**
  - 비밀번호 평문 저장 금지
  - 민감 데이터 로그 기록 금지
  - 개인정보 접근 로그 기록

### 8.3 가용성 (Availability)
- **목표 가동률**: 99.5% (월간 약 3.6시간 다운타임 허용)
- **백업**: 일일 자동 백업, 30일 보관
- **복구**: RPO (Recovery Point Objective) 24시간, RTO (Recovery Time Objective) 4시간

### 8.4 유지보수성 (Maintainability)
- **코드 품질**
  - ESLint, Prettier 적용
  - TypeScript 타입 안정성
  - 단위 테스트 커버리지: 최소 70%

- **모니터링**
  - 에러 로그 수집 및 알림
  - 성능 메트릭 모니터링
  - 사용자 활동 추적

### 8.5 호환성 (Compatibility)
- **브라우저 지원**
  - Chrome, Firefox, Safari, Edge 최신 2개 버전
  - 모바일 브라우저: iOS Safari, Android Chrome

- **화면 해상도**
  - 데스크톱: 1920x1080 이상 권장
  - 태블릿: 768px 이상
  - 모바일: 375px 이상

### 8.6 데이터 관리
- **데이터 보존 정책**
  - 완료된 할일: 무기한 보관 (사용자가 직접 삭제 가능)
  - 아카이브 자동 정리: 사용자 설정에 따라 선택 가능 (30일/90일/무기한)
  - 탈퇴 사용자 데이터: 30일간 보관 후 완전 삭제

- **데이터 무결성**
  - 트랜잭션 보장 (ACID 준수)
  - 외래키 제약조건 적용
  - 정기적 데이터 검증

### 8.7 예외 처리
- **알림 실패 처리**
  - 알림 전송 실패 시 1시간 간격으로 최대 3회 재시도
  - 3회 실패 시 시스템 로그 기록 및 관리자 알림

- **외부 연동 실패**
  - 외부 캘린더 동기화 실패 시 사용자에게 오류 메시지 표시
  - 재시도 옵션 제공
  - 로컬 데이터 우선 보존

- **네트워크 오류**
  - 네트워크 오류 시 로컬 캐시 데이터 표시
  - 재연결 시 자동 동기화
  - 사용자에게 오프라인 상태 표시

## 9. 성공 지표 (KPI)

### 9.1 기능 정량 지표

#### 인증 및 사용자 관리 [REQ-001, REQ-002]
- **회원가입 성공률**: 95% 이상
- **로그인 성공률**: 98% 이상
- **평균 로그인 시간**: 2초 이내

**인수 기준**:
- [ ] 유효한 이메일과 비밀번호로 회원가입 가능
- [ ] 중복 이메일 회원가입 시 적절한 오류 메시지 표시
- [ ] 비밀번호 최소 8자 이상 검증
- [ ] 로그인 성공 시 JWT 토큰 발급
- [ ] 로그아웃 시 토큰 무효화

#### 할일 관리 (CRUD) [REQ-003]
- **할일 생성 성공률**: 99.9% 이상
- **할일 CRUD 작업 평균 응답 시간**: 500ms 이내
- **사용자당 평균 할일 생성 수**: 월 10개 이상

**인수 기준**:
- [ ] 제목만으로 할일 생성 가능
- [ ] 기한, 설명, 우선순위 선택적 입력 가능
- [ ] 할일 수정 즉시 반영
- [ ] 할일 삭제 시 확인 대화상자 표시
- [ ] 완료 상태 토글 즉시 반영

#### 기한 관리 [REQ-004]
- **기한 임박 할일 정렬 정확도**: 100%
- **기한 설정/수정 응답 시간**: 500ms 이내

**인수 기준**:
- [ ] 기한이 가까운 할일이 목록 상단에 표시
- [ ] 기한 없는 할일은 목록 하단에 표시
- [ ] 과거 기한 설정 시 오류 메시지 표시
- [ ] 기한 날짜 형식 검증 (YYYY-MM-DD)

### 9.2 비즈니스 지표 (3일 범위)
- **월간 활성 사용자 (MAU)**: 증가 추세 유지
- **일간 활성 사용자 (DAU)**: 증가 추세 유지
- **사용자 유지율 (Retention Rate)**: 7일 기준 40% 이상, 30일 기준 20% 이상
- **할일 완료율**: (완료된 할일 수 / 생성된 할일 수) 60% 이상
- **평균 세션 시간**: 5분 이상
- **사용자 만족도 (NPS)**: 50 이상

### 9.3 기술 지표
- **시스템 가동률 (Uptime)**: 99.5% 이상
- **평균 응답 시간 (APDEX)**: 0.85 이상
- **에러율**: 1% 미만
- **데이터베이스 쿼리 시간**: 평균 100ms 이내
- **API 응답 시간**: 평균 300ms 이내

## 10. 관련 문서
- [요구사항 정의서](./0-domain-definition-request.md)
- [기술 스택 및 아키텍처](./2-tech-stack-and-architecture.md)
- [데이터베이스 스키마](./3-database-schema.md) (예정)
- [API 명세서](./4-api-specification.md) (예정)
- [UI/UX 설계](./5-ui-ux-design.md) (예정)
- [테스트 계획](./6-test-plan.md) (예정)

## 11. 부록: 요구사항 추적 매트릭스

| 요구사항 ID | 원본 요구사항 | 구현 위치 | 우선순위 | 상태 | 비고 |
|------------|-------------|---------|---------|------|------|
| REQ-001 | 회원가입 및 로그인/로그아웃 기능 | 3.1 인증 및 사용자 관리 | 필수 | 설계 완료 | JWT 기반 인증 |
| REQ-002 | 무료 가입 기능 | 2.1 User, 3.1 | 필수 | 설계 완료 | 이메일 기반 가입 |
| REQ-003 | 할일의 추가, 수정, 삭제 기능 | 3.2 할일 관리 (CRUD) | 필수 | 설계 완료 | 소유자 권한 검증 |
| REQ-004 | 기한 임박 할일 상단 노출 | 3.3, 5.4 | 필수 | 설계 완료 | 자동 정렬 알고리즘 |
| REQ-005 | 할일 리스트 조회 | 3.2 | 필수 | 설계 완료 | 정렬, 필터링 포함 |

**Phase 2 이후 예정 요구사항:**

| 요구사항 ID | 원본 요구사항 | 구현 위치 | 우선순위 | 상태 | 비고 |
|------------|-------------|---------|---------|------|------|
| REQ-006 | 기한 임박 알림 기능 | Phase 2 | 높음 | 보류 | 24시간/1시간 전 알림 |
| REQ-007 | 캘린더 형식으로 할일 기한 표시 | Phase 2 | 높음 | 보류 | 월간 뷰, 일별 조회 |
| REQ-008 | 외부 캘린더 연동 (네이버/구글) | Phase 2 | 높음 | 보류 | OAuth 2.0 인증 |
| REQ-009 | 다른 사용자와 공유 가능 | Phase 2 | 높음 | 보류 | 권한 관리 포함 |

### 요구사항 상태 정의
- **설계 완료**: 도메인 정의서에 명세 완료
- **개발 중**: 구현 진행 중
- **테스트 중**: 개발 완료, 테스트 진행 중
- **완료**: 개발 및 테스트 완료
- **보류**: 우선순위 조정으로 보류

### 우선순위 정의
- **필수 (Critical)**: 1차 릴리스에 반드시 포함
- **높음 (High)**: 1차 릴리스 목표, 조정 가능
- **중간 (Medium)**: 2차 릴리스 목표
- **낮음 (Low)**: 향후 릴리스 고려
